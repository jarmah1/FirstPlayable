// room script file

function room_AfterFadeIn()
{
   // Check if the player has the required item
    if (cTheSailor.HasInventory(iBronzeSword) == false) 
    {
        // If not, block movement on Walkable Area ID 2
        RemoveWalkableArea(2);
    } else {
        // If they have the item, allow movement
        RestoreWalkableArea(2);
    }
}

function room_LeaveRight()
{
   
}

function hHotspot1_Interact(Hotspot *theHotspot, CursorMode mode)
{

}

function hHotspot1_UseInv(Hotspot *theHotspot, CursorMode mode)
{
   if (cTheSailor.ActiveInventory == iKey)
   {
     cTheSailor.Walk(26, 163, eBlock, eWalkableAreas);
     cTheSailor.FaceDirection(eDirectionUp);
     Display("Your key worked and now you can cross");
   }
}

function oKelp0_Interact(Object *theObject, CursorMode mode)
{  
   if (cTheSailor.ActiveInventory == iBronzeSword)
   {
     
   // Make the object disappear
      oKelp0.Visible = false; // or use object.Delete(); to remove it entirely
      Display("The object has vanished!");
   } 
   
   else 
   {
      Display("You're going to need something to cut through this kelp.");
   }
}

function on_mouse_click()
{
  if (cTheSailor.ActiveInventory == iBronzeSword) 
  {
        oKelp0.Visible = false;
        
        // Allow the player to walk on Walkable Area ID 2
        RestoreWalkableArea(2);
        
  }
}