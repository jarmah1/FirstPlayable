// room script file

function room_AfterFadeIn()
{
   // Check if the player has the required item
    if (cTheSailor.HasInventory(iBronzeSword) == false) 
    {
        // If not, block movement on Walkable Area ID 2
        RemoveWalkableArea(2);
    } else {
        // If they have the item, allow movement
        RestoreWalkableArea(2);
    }
    
    oAnimatedKelp0.SetView(8, 10);
    oAnimatedKelp0.Animate(0, 5, eRepeat, eNoBlock);
    
    oAnimatedKelp1.SetView(8, 10);
    oAnimatedKelp1.Animate(0, 5, eRepeat, eNoBlock);
    
    oAnimatedKelp2.SetView(8, 10);
    oAnimatedKelp2.Animate(0, 5, eRepeat, eNoBlock);
    
    oAnimatedKelp3.SetView(8, 10);
    oAnimatedKelp3.Animate(0, 5, eRepeat, eNoBlock);
    
    oAnimatedKelp4.SetView(8, 10);
    oAnimatedKelp4.Animate(0, 5, eRepeat, eNoBlock);
    
    oFish0.SetView(11, 10);
    oFish0.Animate(0, 6, eRepeat, eNoBlock, eDirectionRight);
    oFish0.Move(-50, 86, 2, eNoBlock, eAnywhere);
  
    oFish1.SetView(10, 10);
    oFish1.Animate(0, 6, eRepeat, eNoBlock, eDirectionRight);
    oFish1.Move(-50, 43, 1, eNoBlock, eAnywhere);
  
    oFish2.SetView(10, 10);
    oFish2.Animate(0, 6, eRepeat, eNoBlock, eDirectionRight);
    oFish2.Move(-50, 78, 2, eNoBlock, eAnywhere);
  
    oFish3.SetView(11, 10);
    oFish3.Animate(0, 6, eRepeat, eNoBlock, eDirectionRight);
    oFish3.Move(-50, 42, 1, eNoBlock, eAnywhere);
  
    oFish4.SetView(12, 10);
    oFish4.Animate(0, 6, eRepeat, eNoBlock, eDirectionRight);
    oFish4.Move(-50, 50, 2, eNoBlock, eAnywhere);
  
    oFish5.SetView(12, 10);
    oFish5.Animate(0, 6, eRepeat, eNoBlock, eDirectionRight);
    oFish5.Move(-50, 78, 1, eNoBlock, eAnywhere);
}

function room_LeaveRight()
{
   
}

function hHotspot1_Interact(Hotspot *theHotspot, CursorMode mode)
{

}

function hHotspot1_UseInv(Hotspot *theHotspot, CursorMode mode)
{
   if (cTheSailor.ActiveInventory == iKey)
   {
     cTheSailor.Walk(26, 163, eBlock, eWalkableAreas);
     cTheSailor.FaceDirection(eDirectionUp);
     Display("Your key worked and now you can cross");
   }
}

function oKelp0_Interact(Object *theObject, CursorMode mode)
{  
   if (cTheSailor.ActiveInventory == iBronzeSword)
   {
     
   // Make the object disappear
      oKelp0.Visible = false; // or use object.Delete(); to remove it entirely
      Display("The object has vanished!");
   } 
   
   else 
   {
      Display("You're going to need something to cut through this kelp.");
   }
}

function on_mouse_click()
{
  if (cTheSailor.ActiveInventory == iBronzeSword) 
  {
        oKelp0.Visible = false;
        
        // Allow the player to walk on Walkable Area ID 2
        RestoreWalkableArea(2);
        
  }
}