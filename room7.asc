// room script file

function room_AfterFadeIn()
{
// Check if the player has the required item
    if (cTheSailor.HasInventory(iBronzeSword) == false) 
    {

        // If not, block movement on Walkable Area ID 2
        region[1].Enabled = false;
        region[2].Enabled = false;
        region[3].Enabled = false;
    } else {
        // If they have the item, allow movement
        region[1].Enabled = true;
        region[2].Enabled = true;
        region[3].Enabled = true;
        
    }
    
   oJellyfish0.SetView(19, 10);
   oJellyfish0.Animate(0, 2, eRepeat, eNoBlock);
   
   oJellyfish1.SetView(19, 10);
   oJellyfish1.Animate(0, 2, eRepeat, eNoBlock);
   
   oJellyfish2.SetView(19, 10);
   oJellyfish2.Animate(0, 2, eRepeat, eNoBlock);
}

function region1_WalksOnto(Region *theRegion)
{
   int startX = 110; 
   int startY = 76;
   
   cTheSailor.x = startX;
   cTheSailor.y = startY;
}

function region2_WalksOnto(Region *theRegion)
{
   int startX = 110; 
   int startY = 272;
   
   cTheSailor.x = startX;
   cTheSailor.y = startY;
}

function region3_WalksOnto(Region *theRegion)
{
   int startX = 110; 
   int startY = 414;
   
   cTheSailor.x = startX;
   cTheSailor.y = startY;
}

function oJellyfish0_Interact(Object *theObject, CursorMode mode)
{
   if (cTheSailor.ActiveInventory == iBronzeSword && mouse.IsButtonDown(eMouseLeft) && mouse.Mode != eModeWalkto && mouse.Mode != eModeLookat && mouse.Mode != eModeInteract && mouse.Mode != eModeTalkto)
   {    
     
   // Make the object disappear
      oJellyfish0.SetView(20, 0);
      oJellyfish0.Animate(0, 1, eOnce, eNoBlock);
      region[1].Enabled = false;           
   } 
   
   else 
   {
      Display("If only I had something in my inventory to get rid of these jellyfish");
   }
}

function on_mouse_click(Object *clickedObject)
{
  if (cTheSailor.ActiveInventory == iBronzeSword && mouse.IsButtonDown(eMouseLeft) && mouse.Mode != eModeWalkto && mouse.Mode != eModeLookat && mouse.Mode != eModeInteract && mouse.Mode != eModeTalkto)
  {   
     {
      oJellyfish0.SetView(20, 0);
      oJellyfish0.Animate(0, 1, eOnce, eNoBlock);
       
          // Allow the player to walk on Walkable Area ID 2
      region[1].Enabled = false;           
                
     }
  }
}

function oJellyfish1_Interact(Object *theObject, CursorMode mode)
{
   if (cTheSailor.ActiveInventory == iBronzeSword && mouse.IsButtonDown(eMouseLeft) && mouse.Mode != eModeWalkto && mouse.Mode != eModeLookat && mouse.Mode != eModeInteract && mouse.Mode != eModeTalkto)
   {    
     
   // Make the object disappear
      oJellyfish1.SetView(20, 0);
      oJellyfish1.Animate(0, 1, eOnce, eNoBlock);
      region[2].Enabled = false;           
   } 
   
   else 
   {
      Display("If only I had something in my inventory to get rid of these jellyfish");
   }
}

function on_mouse_click2(Object *clickedObject)
{
  if (cTheSailor.ActiveInventory == iBronzeSword && mouse.IsButtonDown(eMouseLeft) && mouse.Mode != eModeWalkto && mouse.Mode != eModeLookat && mouse.Mode != eModeInteract && mouse.Mode != eModeTalkto)
  {   
     {
      oJellyfish1.SetView(20, 0);
      oJellyfish1.Animate(0, 1, eOnce, eNoBlock);
       
          // Allow the player to walk on Walkable Area ID 2
      region[2].Enabled = false;           
                
     }
  }
}

function oJellyfish2_Interact(Object *theObject, CursorMode mode)
{
   if (cTheSailor.ActiveInventory == iBronzeSword && mouse.IsButtonDown(eMouseLeft) && mouse.Mode != eModeWalkto && mouse.Mode != eModeLookat && mouse.Mode != eModeInteract && mouse.Mode != eModeTalkto)
   {    
     
   // Make the object disappear
      oJellyfish2.SetView(20, 0);
      oJellyfish2.Animate(0, 1, eOnce, eNoBlock);
      region[3].Enabled = false;           
   } 
   
   else 
   {
      Display("If only I had something in my inventory to get rid of these jellyfish");
   }
}

function on_mouse_click3(Object *clickedObject)
{
    if (cTheSailor.ActiveInventory == iBronzeSword && mouse.IsButtonDown(eMouseLeft) && mouse.Mode != eModeWalkto && mouse.Mode != eModeLookat && mouse.Mode != eModeInteract && mouse.Mode != eModeTalkto)
  {   
     {
      oJellyfish2.SetView(20, 0);
      oJellyfish2.Animate(0, 1, eOnce, eNoBlock);
       
          // Allow the player to walk on Walkable Area ID 2
      region[3].Enabled = false;           
                
     }
  }
}


function oJellyfish0_Look(Object *theObject, CursorMode mode)
{
  Display("Yes, that appears to be a jellyfish");
}

function oJellyfish0_PickUp(Object *theObject, CursorMode mode)
{
  Display("Might not be a good idea to touch a jellyfish");
}


